#省份被摧毁殆尽
tentacleswarm_corruption_county_destroy_effect = { 
	save_scope_as = destroy
	
	
	#发展度进度清零
	change_development_progress = -100 
	#破坏进度清零
	set_variable =  { name = tentacleswarm_corruption_destroy value = 0 }
	#建筑破坏
	every_county_province = { #通过变换地产类型来清建筑
		if = {
			limit= {
				has_holding_type = castle_holding
			}
			set_holding_type = tribal_holding #城堡变成部落
		}
		else_if = {
			limit= {
				has_holding_type = tribal_holding
			}
			set_holding_type = city_holding
			set_holding_type = tribal_holding
		}
		else_if = {
			limit= {
				has_holding_type = city_holding
			}
			set_holding_type = tribal_holding
			set_holding_type = city_holding
		}
		else_if = {
			limit= {
				has_holding_type = church_holding
			}
			set_holding_type = tribal_holding
			set_holding_type = church_holding
		}
		else_if = {
			limit= {
				has_holding = yes
			}
			set_holding_type = tribal_holding
		}
	}
	#腐化转移到相邻地区
	random_title_to_title_neighboring_and_across_water_county = {
		limit = {
			NOT = { has_county_modifier = tentacleswarm_destroy }
		}
		change_variable =  { name = tentacleswarm_corruption add = scope:destroy.var:tentacleswarm_corruption }
	}
	set_variable =  { name = tentacleswarm_corruption value = 0 }
	
	
	#变颜色
	every_county_province = {
		barony = { set_color_from_title = title:d_tentacleswarm_destroy }
	}
	
	#清除腐化修正，根据腐化等级，给不同时长的发展度惩罚修正
	if = {
		limit = { has_county_modifier = tentacleswarm_corruption_1 }
		remove_county_modifier = tentacleswarm_corruption_1
		add_county_modifier = { modifier = tentacleswarm_destroy years = 20 }
	}
	if = {
		limit = { has_county_modifier = tentacleswarm_corruption_2 }
		remove_county_modifier = tentacleswarm_corruption_2
		add_county_modifier = { modifier = tentacleswarm_destroy years = 25 }
	}
	if = {
		limit = { has_county_modifier = tentacleswarm_corruption_3 }
		remove_county_modifier = tentacleswarm_corruption_3
		add_county_modifier = { modifier = tentacleswarm_destroy years = 30 }
	}
	if = {
		limit = { has_county_modifier = tentacleswarm_corruption_4 }
		remove_county_modifier = tentacleswarm_corruption_4
		add_county_modifier = { modifier = tentacleswarm_destroy years = 35 }
	}
	if = {
		limit = { has_county_modifier = tentacleswarm_corruption_5 }
		remove_county_modifier = tentacleswarm_corruption_5
		add_county_modifier = { modifier = tentacleswarm_destroy years = 40 }
	}
}